# Copyright (c) 2026 Contributors to the Eclipse Foundation
#
# See the NOTICE file(s) distributed with this work for additional
# information regarding copyright ownership.
#
# This program and the accompanying materials are made available under the
# terms of the Eclipse Public License 2.0 which is available at
# http://www.eclipse.org/legal/epl-2.0
#
# SPDX-License-Identifier: EPL-2.0
get:
  summary: Retrieve WoT Thing Directory
  description: |-
    Returns a WoT (Web of Things) Thing Description of the Ditto Thing Directory,
    as specified by the [WoT Discovery](https://www.w3.org/TR/wot-discovery/) specification.

    By default, this endpoint is publicly accessible without authentication. This can be configured
    via the `GATEWAY_WOT_DIRECTORY_AUTHENTICATION_REQUIRED` environment variable.

    Both `GET` and `HEAD` methods are supported per the WoT Discovery specification.
  tags:
    - WoT
  responses:
    '200':
      description: |-
        The WoT Thing Directory description was successfully retrieved.
      content:
        application/td+json:
          schema:
            $ref: '../../schemas/wot-thingDescription.yml'
          example:
            '@context':
              - 'https://www.w3.org/2022/wot/td/v1.1'
              - 'https://www.w3.org/2022/wot/discovery'
            '@type': 'ThingDirectory'
            id: 'urn:ditto:wot:thing-directory'
            title: 'Thing Description Directory (TDD) of Eclipse Ditto'
            version:
              model: '1.0.0'
              instance: '1.0.0'
    '401':
      description: The request could not be completed due to missing authentication (when authentication is required).
      content:
        application/json:
          schema:
            $ref: '../../schemas/errors/advancedError.yml'
head:
  summary: Retrieve WoT Thing Directory headers
  description: |-
    Returns headers for the WoT Thing Directory endpoint without a response body.
    Supports the same authentication and configuration as the GET method.
  tags:
    - WoT
  responses:
    '200':
      description: The WoT Thing Directory headers were successfully retrieved.
    '401':
      description: The request could not be completed due to missing authentication (when authentication is required).
