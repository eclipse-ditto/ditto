mongodb {
  maxQueryTime = 10s

  hostname = "mongodb"
  port = 27017
  authentication = "foo:bar"
  database = "test"

  #uri = "mongodb://"${?mongodb.authentication}${mongodb.hostname}":"${mongodb.port}"/"${mongodb.database}
  uri = "mongodb://foo:bar@mongodb:27017/test"

  include "pool-test"

  options {
    ssl = true
    w = 1
  }

  breaker {
    maxFailures = 23
    timeout {
      call = 13s
      reset = 7s
    }
  }

  monitoring {
    commands = true
    connection-pool = true
  }
}
